custom_cd()
{
    'pushd' $* > /dev/null;
    setps
}

setps()
{
   PUSER=${LOGNAME:-$USER}
   HST=`hostname -s`
   TTY=`basename \`tty | tr " " "_"\``
   PREFIX=`expr "$PS1" : "(\([a-z]*\)).*"`
   if [[ "$PREFIX" != "" ]]; then
      PREFIX="($PREFIX)"
   fi
   PS1="${PREFIX}<$PUSER @ $HST[$TTY]:$PWD>
$ "
}

setps
alias cd=custom_cd
